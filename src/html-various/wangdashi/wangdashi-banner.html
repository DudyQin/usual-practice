<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>汪大师</title>
    <style type="text/css">
        html,body{
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
        }
        .banner{
            position: relative;
            overflow: hidden;
            white-space: nowrap;
            font-size: 0;
            letter-spacing:-0.307em;
            width: 100%;
            height: 100%;
        }

        .banner .item{
            letter-spacing: normal;
            width: 100%;
            height: 100%;
            background-repeat: no-repeat;
            background-position: center center;
            opacity: 0;
            /*设置渐隐渐现的时长*/
            -o-transition:opacity 1.2s ease-in;
            -moz-transition:opacity 1.2s ease-in;
            -webkit-transition:opacity 1.2s ease-in;
            transition:opacity 1.2s ease-in;
            display: inline-block;
        }

        .banner .item.active{
            position: absolute;
            left: 0;
            top: 0;
            opacity: 1;
        }

        .panel{
            z-index: 3;
            position: absolute;
            top: 20.8666666%;
            left: 50%;
            -o-transform: translate(-50%,0);
            -moz-transform: translate(-50%,0);
            -ms-transform: translate(-50%,0);
            -webkit-transform: translate(-50%,0);
            transform: translate(-50%,0);
            width: 81.770833%;
            padding-bottom: 19.895833%;
            box-sizing: border-box;
            border: 1px solid rgba(254,254,254,0.3);
            background-color: rgba(0,0,0,0.3);
            background-position: center;
            background-repeat: no-repeat;
            background-size: 100% 100%;
        }

        @media (max-width: 767px) {
            .panel{
                -o-transform: translate(-50%,0) scale(1.64);
                -moz-transform: translate(-50%,0) scale(1.64);
                -ms-transform: translate(-50%,0) scale(1.64);
                -webkit-transform: translate(-50%,0) scale(1.64);
                transform: translate(-50%,0) scale(1.64);
            }
        }

        .panel > a{
            position: absolute;
            left: 50%;
            bottom: 0;
            -o-transform: translate(-50%,50%);
            -moz-transform: translate(-50%,50%);
            -ms-transform: translate(-50%,50%);
            -webkit-transform: translate(-50%,50%);
            transform: translate(-50%,50%);
            padding-top: 1.61458333%;
            padding-bottom: 1.61458333%;
            text-align: center;
            letter-spacing: normal;
            word-break: break-all;
            width: 25%;
            box-sizing: border-box;
            font-size: 24px;
            font-family: Arial;
            -o-transition:width 0.3s ease-in-out;
            -moz-transition:width 0.3s ease-in-out;
            -webkit-transition:width 0.3s ease-in-out;
            transition:width 0.3s ease-in-out;
            color: #000000;
            background-image:-o-linear-gradient(180deg, #ffd71a 0, #ffd71a 6.8181818%, rgba(0,0,0,0) 6.8181818%, rgba(0,0,0,0) 100%);
            background-image:-moz-linear-gradient(180deg, #ffd71a 0, #ffd71a 6.8181818%, rgba(0,0,0,0) 6.8181818%, rgba(0,0,0,0) 100%);
            background-image:-ms-linear-gradient(180deg, #ffd71a 0, #ffd71a 6.8181818%, rgba(0,0,0,0) 6.8181818%, rgba(0,0,0,0) 100%);
            background-image:-webkit-linear-gradient(180deg, #ffd71a 0, #ffd71a 6.8181818%, rgba(0,0,0,0) 6.8181818%, rgba(0,0,0,0) 100%);
            background-image:linear-gradient(180deg, #ffd71a 0, #ffd71a 6.8181818%, rgba(0,0,0,0) 6.8181818%, rgba(0,0,0,0) 100%);
            background-repeat: no-repeat;
            background-color: #ffffff;
            text-decoration: none;
        }

        @media (min-width: 1025px) {
            .panel > a:hover{
                width: 29.166667%;
                text-decoration: underline;
            }
        }

        @media (max-width: 991px) {
            .panel > a{
                padding-left: 3px;
                padding-right: 3px;
                width: auto;
            }
        }

        @media (max-width: 767px) {
            .panel > a{
                left: 0;
                -o-transform: translate(0,calc(100% + 20px));

                -moz-transform: translate(0,-moz-calc(100% + 20px));
                -moz-transform: translate(0,calc(100% + 20px));

                -ms-transform: translate(0,calc(100% + 20px));

                -webkit-transform: translate(0,-webkit-calc(100% + 20px));
                -webkit-transform: translate(0,calc(100% + 20px));

                transform: translate(0,-moz-calc(100% + 20px));
                transform: translate(0,-webkit-calc(100% + 20px));
                transform: translate(0,calc(100% + 20px));

                padding-top: -moz-calc(1.61458333% + 7px);
                padding-top: -webkit-calc(1.61458333% + 7px);
                padding-top: calc(1.61458333% + 7px);

                padding-bottom: -moz-calc(1.61458333% + 7px);
                padding-bottom: -webkit-calc(1.61458333% + 7px);
                padding-bottom: calc(1.61458333% + 7px);

                width: 100%;

                /*-o-transition:background-position 3s ease-in-out;*/
                /*-moz-transition:background-position 3s ease-in-out;*/
                /*-webkit-transition:background-position 3s ease-in-out;*/
                /*transition:background-position 3s ease-in-out;*/

                background-image:
                -o-linear-gradient(180deg, #ffd71a 0, #ffd71a 5.2151239%, rgba(0,0,0,0) 5.2151239%, rgba(0,0,0,0) 100%),
                -o-linear-gradient(0deg, #ffd71a 0, #ffd71a 5.2151239%, rgba(0,0,0,0) 5.2151239%, rgba(0,0,0,0) 100%),
                -o-linear-gradient(90deg, #ffd71a 0, #ffd71a 0.782%, rgba(0,0,0,0) 0.782%, rgba(0,0,0,0) 100%),
                -o-linear-gradient(270deg, #ffd71a 0, #ffd71a 0.782%, rgba(0,0,0,0) 0.782%, rgba(0,0,0,0) 100%);
                background-image:
                -moz-linear-gradient(180deg, #ffd71a 0, #ffd71a 5.2151239%, rgba(0,0,0,0) 5.2151239%, rgba(0,0,0,0) 100%),
                -moz-linear-gradient(0deg, #ffd71a 0, #ffd71a 5.2151239%, rgba(0,0,0,0) 5.2151239%, rgba(0,0,0,0) 100%),
                -moz-linear-gradient(90deg, #ffd71a 0, #ffd71a 0.782%, rgba(0,0,0,0) 0.782%, rgba(0,0,0,0) 100%),
                -moz-linear-gradient(270deg, #ffd71a 0, #ffd71a 0.782%, rgba(0,0,0,0) 0.782%, rgba(0,0,0,0) 100%);
                background-image:
                -ms-linear-gradient(180deg, #ffd71a 0, #ffd71a 5.2151239%, rgba(0,0,0,0) 5.2151239%, rgba(0,0,0,0) 100%),
                -ms-linear-gradient(0deg, #ffd71a 0, #ffd71a 5.2151239%, rgba(0,0,0,0) 5.2151239%, rgba(0,0,0,0) 100%),
                -ms-linear-gradient(90deg, #ffd71a 0, #ffd71a 0.782%, rgba(0,0,0,0) 0.782%, rgba(0,0,0,0) 100%),
                -ms-linear-gradient(270deg, #ffd71a 0, #ffd71a 0.782%, rgba(0,0,0,0) 0.782%, rgba(0,0,0,0) 100%);
                background-image:
                -webkit-linear-gradient(180deg, #ffd71a 0, #ffd71a 5.2151239%, rgba(0,0,0,0) 5.2151239%, rgba(0,0,0,0) 100%),
                -webkit-linear-gradient(0deg, #ffd71a 0, #ffd71a 5.2151239%, rgba(0,0,0,0) 5.2151239%, rgba(0,0,0,0) 100%),
                -webkit-linear-gradient(90deg, #ffd71a 0, #ffd71a 0.782%, rgba(0,0,0,0) 0.782%, rgba(0,0,0,0) 100%),
                -webkit-linear-gradient(270deg, #ffd71a 0, #ffd71a 0.782%, rgba(0,0,0,0) 0.782%, rgba(0,0,0,0) 100%);
                background-image:
                linear-gradient(180deg, #ffd71a 0, #ffd71a 8.3333333%, rgba(0,0,0,0) 8.3333333%, rgba(0,0,0,0) 100%),
                linear-gradient(0deg, #ffd71a 0, #ffd71a 8.3333333%, rgba(0,0,0,0) 8.3333333%, rgba(0,0,0,0) 100%),
                linear-gradient(90deg, #ffd71a 0, #ffd71a 0.782%, rgba(0,0,0,0) 0.782%, rgba(0,0,0,0) 100%),
                linear-gradient(270deg, #ffd71a 0, #ffd71a 0.782%, rgba(0,0,0,0) 0.782%, rgba(0,0,0,0) 100%);

                /*background-position: left top,right bottom,12.585366% 0,-12.585366% 100%;*/
                /*background-position: left top, right bottom, 78px center, -78px center;*/
                background-size: 100% 100%, 100% 100%, 100% 100%, 100% 100%;
            }
        }

        /*.panel > a.bgAni{*/
            /*background-position: -100% 0, 100% 0, 0 -100%,0 100% !important;*/
        /*}*/

        .banner .btn{
            position: absolute;
            top: 75.925926%;
            left: 50%;
            -o-transform: translate(-50%,0);
            -moz-transform: translate(-50%,0);
            -ms-transform: translate(-50%,0);
            -webkit-transform: translate(-50%,0);
            transform: translate(-50%,0);
            margin: 0;
            padding: 0;
            list-style-type: none;
        }

        .banner .btn-inner{
            float: left;
            margin-right: 8px;
            letter-spacing: normal;
            width: 16px;
            height: 16px;
            border-radius: 100%;
            border: 1px solid #ffffff;
            box-sizing: border-box;
            cursor: pointer;
        }

        .banner .btn-inner:last-child{
            margin-right: 0;
        }

        @-o-keyframes btnactive {
            0%{
                -o-box-shadow: 0 0 3px 0 #ffffff;
                -webkit-box-shadow: 0 0 3px 0 #ffffff;
                box-shadow: 0 0 3px 0 #ffffff;
            }
            100%{
                -o-box-shadow: 0 0 3px 3px #ffffff;
                -webkit-box-shadow: 0 0 3px 3px #ffffff;
                box-shadow: 0 0 3px 3px #ffffff;
            }
        }

        @-moz-keyframes btnactive {
            0%{
                -moz-box-shadow: 0 0 3px 0 #ffffff;
                -webkit-box-shadow: 0 0 3px 0 #ffffff;
                box-shadow: 0 0 3px 0 #ffffff;
            }
            100%{
                -moz-box-shadow: 0 0 3px 3px #ffffff;
                -webkit-box-shadow: 0 0 3px 3px #ffffff;
                box-shadow: 0 0 3px 3px #ffffff;
            }
        }

        @-ms-keyframes btnactive {
            0%{
                -ms-box-shadow: 0 0 3px 0 #ffffff;
                -webkit-box-shadow: 0 0 3px 0 #ffffff;
                box-shadow: 0 0 3px 0 #ffffff;
            }
            100%{
                -ms-box-shadow: 0 0 3px 3px #ffffff;
                -webkit-box-shadow: 0 0 3px 3px #ffffff;
                box-shadow: 0 0 3px 3px #ffffff;
            }
        }

        @-webkit-keyframes btnactive {
            0%{
                -webkit-box-shadow: 0 0 3px 0 #ffffff;
                box-shadow: 0 0 3px 0 #ffffff;
            }
            100%{
                -webkit-box-shadow: 0 0 3px 3px #ffffff;
                box-shadow: 0 0 3px 3px #ffffff;
            }
        }

        @keyframes btnactive {
            0%{
                -o-box-shadow: 0 0 3px 0 #ffffff;
                -moz-box-shadow: 0 0 3px 0 #ffffff;
                -ms-box-shadow: 0 0 3px 0 #ffffff;
                -webkit-box-shadow: 0 0 3px 0 #ffffff;
                box-shadow: 0 0 3px 0 #ffffff;
            }
            100%{
                -o-box-shadow: 0 0 3px 3px #ffffff;
                -moz-box-shadow: 0 0 3px 3px #ffffff;
                -ms-box-shadow: 0 0 3px 3px #ffffff;
                -webkit-box-shadow: 0 0 3px 3px #ffffff;
                box-shadow: 0 0 3px 3px #ffffff;
            }
        }

        .banner .btn-inner.active{
            border-color: #ffd71a;
            /*border-width: 2px;*/
            -o-animation-name: btnactive;
            -o-animation-duration: 0.6s;
            -o-animation-timing-function: ease-in-out;
            -o-animation-direction: alternate;
            -o-animation-iteration-count: infinite;
            -moz-animation-name: btnactive;
            -moz-animation-duration: 0.6s;
            -moz-animation-timing-function: ease-in-out;
            -moz-animation-direction: alternate;
            -moz-animation-iteration-count: infinite;
            -webkit-animation-name: btnactive;
            -webkit-animation-duration: 0.6s;
            -webkit-animation-timing-function: ease-in-out;
            -webkit-animation-direction: alternate;
            -webkit-animation-iteration-count: infinite;
            animation-name: btnactive;
            animation-duration: 0.6s;
            animation-timing-function: ease-in-out;
            animation-direction: alternate;
            animation-iteration-count: infinite;
        }
    </style>
</head>
<body>

    <div class="banner">

        <!--轮播图片-->
        <div class="item active" style="background-image: url(banner1.jpg)"></div>
        <div class="item" style="background-image: url(banner2.jpg)"></div>
        <div class="item" style="background-image: url(banner3.jpg)"></div>
        <div class="item" style="background-image: url(banner4.jpg)"></div>
        <div class="item" style="background-image: url(banner5.jpg)"></div>
        <div class="item" style="background-image: url(banner6.jpg)"></div>
        <!--轮播图片 End-->

        <!--中间文字模块-->
        <div class="panel" style="background-image: url(title.png)" data-xsBg="url(title.png)">
            <a href="http://mail.163.com">http://mail.163.com</a>
        </div>
        <!--中间文字模块 End-->

        <!--Button按钮-->
        <ul class="btn">
            <li class="btn-inner active"></li>
            <li class="btn-inner"></li>
            <li class="btn-inner"></li>
            <li class="btn-inner"></li>
            <li class="btn-inner"></li>
            <li class="btn-inner"></li>
        </ul>
        <!--Button按钮 End-->

    </div>

</body>
<script>
    var bgEle = document.getElementsByClassName("panel")[0];
    var oldBg = bgEle.style.backgroundImage;
    var setsizeEle = document.getElementsByClassName("panel")[0].getElementsByTagName("a")[0];
    var items = document.getElementsByClassName("banner")[0].getElementsByClassName("item");
    var btns = document.getElementsByClassName("btn-inner");
    var setEmailBtnOldBgPos;
    var setEmailBtnOldTransi = "background-position 6s ease-in-out";
    var bgPos1;
    var bgPos2;

    setTimeout(function(){
        var cltW = document.documentElement.clientWidth || document.body.clientWidth;

        if(cltW <= 767){
            setsizeEle.style.transition = setEmailBtnOldTransi;
            setsizeEle.style.webkitTransition = setEmailBtnOldTransi;
            setsizeEle.style.mozTransition = setEmailBtnOldTransi;
            setsizeEle.style.oTransition = setEmailBtnOldTransi;
        }

    },100);

    function setEmailBgPos(){
        var cltW = document.documentElement.clientWidth || document.body.clientWidth;

        if(cltW <= 767){
            bgPos1 = (78 / 625 * (setsizeEle.clientWidth)) + "px";
            bgPos2 = -(78 / 625 * (setsizeEle.clientWidth)) + "px";

//            setsizeEle.style.transition = "";
//            setsizeEle.style.webkitTransition = "";
//            setsizeEle.style.mozTransition = "";
//            setsizeEle.style.oTransition = "";

            setsizeEle.style.backgroundPosition = "left top, right bottom, " + bgPos1 + " center, " + bgPos2 + " center";
            setEmailBtnOldBgPos = setsizeEle.style.backgroundPosition;
        }

    }

    function setBg(){
        var cltW = document.documentElement.clientWidth || document.body.clientWidth;

        var xsBg = bgEle.getAttribute("data-xsBg");

        if(cltW <= 767 && xsBg !== ""){
            bgEle.style.backgroundImage = xsBg;
        }
        if(cltW > 767){
            bgEle.style.backgroundImage = oldBg;
        }
    }

    function setSize(){
        var setsizeEleWidth = setsizeEle.clientWidth;
        var cltW = document.documentElement.clientWidth || document.body.clientWidth;

        setsizeEle.style.fontSize = (24 / 560) * setsizeEleWidth + "px";

        if(parseInt(setsizeEle.style.fontSize) < 18){
            setsizeEle.style.fontSize = "18px";
        }
        if(cltW <= 767){
            setsizeEle.style.fontSize = "12px";
        }
    }

    function setEmalBtnBgAni(){
        var cltW = document.documentElement.clientWidth || document.body.clientWidth;
        if(cltW <= 767){
            var boxW = setsizeEle.clientWidth;
            var boxH = setsizeEle.clientHeight;
            var bgAniPrame = "-" + boxW + "px 0, " + boxW + "px 0, " + bgPos1 + " -" + boxH + "px, " + bgPos2 + " " + boxH + "px";
            var isDisappear = false;

            setTimeout(function(){
                ani();
            },100);

            setsizeEle.addEventListener("webkitTransitionEnd",ani);
            setsizeEle.addEventListener("transitionend",ani);

            function ani(){
                if(!isDisappear){
                    setsizeEle.style.backgroundPosition = bgAniPrame;
                }
                if(isDisappear){
                    setsizeEle.style.backgroundPosition = setEmailBtnOldBgPos;
                }
                isDisappear = !isDisappear;

                setTimeout(ani,6000);

            }
        }
    }

    setEmailBgPos();
    setBg();
    setSize();
    setEmalBtnBgAni();

    window.onresize = function(){
        setBg();
        setSize();
        setEmailBgPos();
        setEmalBtnBgAni();
    }

    function lunbo(){
        var btnOldClass = btns[1].getAttribute("class");
        var itemOldClass = items[1].getAttribute("class");
        var timer = 0;
        var timerFn = null;

        for(var i=0; i<btns.length; i++){
            btns[i].index = i;
            btns[i].onclick = click;

            function click(){
                timer = this.index;
                clearInterval(timerFn);
                autoPlay();

                for(var k=0; k<btns.length; k++){
                    btns[k].setAttribute("class",btnOldClass);
                    items[k].setAttribute("class",itemOldClass)
                }
                this.setAttribute("class",btnOldClass + " active");
                items[this.index].setAttribute("class",itemOldClass + " active")
            }

        }

        function autoPlay(){
            timerFn = setInterval(function(){

                timer++;

                if(timer == items.length){
                    timer = 0;
                }

                btns[timer].onclick();
            //设置轮播的时间间隔
            },4000);
        }

        autoPlay();

    }

    lunbo();


</script>
</html>